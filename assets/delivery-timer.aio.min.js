/*
Generated time: April 20, 2023 07:24
This file was created by the app developer. Feel free to contact the original developer with any questions. It was minified (compressed) by AVADA. AVADA do NOT own this script.
*/
class DeliveryTimer{constructor({timerSelector:e,deliveryDateSelector:t,getCurrentTime:i=null,countdownTime:s={hour:14,minutes:0,seconds:0},deliveryDays:r={atWorkingDays:1,atWeekdays:2}}){this.timerContainer=document.querySelector(e),this.deliveryDateContainer=document.querySelector(t),this.countdownTime=s,this.deliveryDays=r,this.timeLeft=0,i?(this.nowDate=i(),this.countdownDate=i(),this.deliveryDate=i()):(this.nowDate=new Date,this.countdownDate=new Date,this.deliveryDate=new Date),this.timerContainer&&this.deliveryDateContainer?(this.initTimer(),this.startTimer()):console.error("Containers for displaying the timer on the page were not found! Timer not running!")}startTimer=()=>{var e=this.nowDate.getDay();if(1<=e&&e<=4)isBeforeTime(this.nowDate,this.countdownTime)?(this.deliveryDate.setDate(this.deliveryDate.getDate()+this.deliveryDays.atWorkingDays),this.deliveryDateContainer.innerHTML=" tomorrow, "+getStringDate(this.deliveryDate)):(this.deliveryDate.setDate(this.deliveryDate.getDate()+this.deliveryDays.atWorkingDays+1),this.resetOrderWithin(!1));else if(5===e)isBeforeTime(this.nowDate,this.countdownTime)?(this.deliveryDate.setDate(this.deliveryDate.getDate()+this.deliveryDays.atWorkingDays),this.deliveryDateContainer.innerHTML=" tomorrow, "+getStringDate(this.deliveryDate)):(this.deliveryDate.setDate(this.deliveryDate.getDate()+this.deliveryDays.atWeekdays+2),this.resetOrderWithin(!1));else{for(;this.deliveryDate.getDay()!==this.deliveryDays.atWeekdays;)this.deliveryDate.setDate(this.deliveryDate.getDate()+1);this.resetOrderWithin(!1)}this.timerOn()};initTimer=()=>{this.countdownDate.setUTCHours(this.countdownTime.hour,this.countdownTime.minutes,this.countdownTime.seconds,0),this.resetTimeLeft()};timerOn=()=>{setInterval(()=>{var e,t,i;--this.timeLeft,this.timeLeft<=0?(this.resetTimeLeft(),this.resetOrderWithin()):(e=Math.trunc(this.timeLeft/3600),t=Math.trunc((this.timeLeft-3600*e)/60),i=Math.trunc(this.timeLeft%60),this.timerContainer.innerHTML=0!==e?e+` hrs ${t} mins`:1<=t?t+" mins":i+" s")},1e3)};resetOrderWithin=(e=!0)=>{e&&(5===this.nowDate.getDay()?this.deliveryDate.setDate(this.nowDate.getDate()+this.deliveryDays.atWeekdays+2):this.deliveryDate.setDate(this.nowDate.getDate()+this.deliveryDays.atWeekdays)),this.deliveryDateContainer.innerHTML=` ${getDayName(this.deliveryDate)}, `+getStringDate(this.deliveryDate)};resetTimeLeft=()=>{this.nowDate=this.getCurrentTime?.()??new Date;var e=this.nowDate.getDay();1<=e&&e<=4?isBeforeTime(this.nowDate,this.countdownTime)||this.countdownDate.setDate(this.countdownDate.getDate()+this.deliveryDays.atWorkingDays):5===e&&isBeforeTime(this.nowDate,this.countdownTime)||this.countdownDate.setUTCHours(23,59,59,999),this.timeLeft=(this.countdownDate-this.nowDate)/1e3}}const isBeforeTime=(e,t={hour:14,minutes:0,seconds:0})=>{var i=new Date(e);return i.setUTCHours(t.hour,t.minutes,t.seconds,0),0<i-e},getStringDate=e=>e.toLocaleString("en-GB",{month:"long"})+" "+e.getDate(),getDayName=e=>e.toLocaleDateString("en-GB",{weekday:"long"});